<ion-header>
  <ion-toolbar id="navbar">
    <ion-buttons slot="start" >
      <ion-menu-button  auto-hide="false" ></ion-menu-button>
    </ion-buttons>
    
    <ion-buttons slot="secondary">
      <ion-button shape="round" (click)="ViewCart()">
        <ion-icon size="large" name="cart" id="toolbarCartIcon" ></ion-icon>
        <div class="cart-length" *ngIf="TotalItems > 0" color="danger">{{TotalItems}}
        </div>
      </ion-button>
    </ion-buttons>
    
    <ion-label slot="secondary" id="toolbarUserName">{{username}}</ion-label>
    <ion-buttons slot="end">
      <ion-button (click)="presentPopover($event)" shape="round">
        <ion-icon size="large" name="person-circle" id="toolbarProfileIcon"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!--Top sales generated by databse-->
  <div id="clientTopSalesCard">
    <ion-slides *ngIf="merchandise.length!=0" pager="true" [options]="slideOpts">
      <ion-slide *ngFor="let m of merchandise">
        <ion-card>
          <ion-row>
            <ion-col><img [src]="GetMerchImage(m.id) | safe: 'url'" /></ion-col>
            <ion-col style="margin-left:10%;">
           
          <ion-card-content>
            <h1 align = "center" style="color: black;"><b>{{m.name}}</b></h1>
            <br>
            <p align ="center" style="color: black;">{{m.description}}</p>
              <br><br>
              <p align = "center"><ion-button shape="round" color="secondary"  (click)="ViewItem(m.id)">Order Now</ion-button></p>
      </ion-card-content>
            </ion-col>
          </ion-row>
          
        </ion-card>
      </ion-slide>
     </ion-slides>
     
   
  </div>
    
  <!--Div for cart items-->  
  <!--Will Name better-->  
  <div id="products" style="margin-left: 3%;margin-right: 3%;">
    <ion-row >
      <ion-col size="6">
        <ion-searchbar id="searchProductBar" placeholder="Search..."  [(ngModel)]="search"></ion-searchbar>
      </ion-col>
      <ion-col></ion-col>
      <!--Please change the select syle-->
      <ion-col size="4">  
        
        <!-- (ionChange)=" GetProductsById(productType.value)" -->
        <ion-select placeholder="Select category" interface="popover" name="productType" [(ngModel)]="categorysearch" #productType="ngModel">
          <ion-select-option value="">All</ion-select-option>
          <ion-select-option value="1">Cosmetics</ion-select-option>
          <ion-select-option value="2">Slimming</ion-select-option>
          <ion-select-option value="3">Lifestyle</ion-select-option>
          <ion-select-option value="Package">Packages</ion-select-option>
        </ion-select>
    </ion-col>
    </ion-row>
<br>
     <!--Product rows-->
     <ion-row>
      <ion-col size="3" *ngFor="let m of merchandise | filter:search:filterKeys | filter:categorysearch:filterKeys; let i = index">
       <div>
        <div class="sp-item" *ngIf="m.spId != null" color="danger">Special
        </div>
        <ion-card class="productCard" id="{{m.id}}">
          
          <ion-card-header style="text-align: center;"  (click)="ViewItem(m.id)">
            <ion-button slot="end" menu="main-menu" ></ion-button><img [src]="GetMerchImage(m.id) | safe: 'url'" />
          </ion-card-header>
          <ion-card-content>
            <ion-card-title  name="ItemName" value="p.itemName">{{m.name}}</ion-card-title>
            <ion-card-subtitle>{{m.price | currency: 'ZAR':'symbol-narrow'}}</ion-card-subtitle>
            <ion-buttons>
              <ion-button shape="round" style="color: #0070c0;" (click)="decrementQty(i)" >
                <ion-icon size="large" name="bag-remove" id="toolbarCartIcon"></ion-icon>
              </ion-button>

              <ion-input id="m{{i}}" [ngClass]="{'InvalidInput': selectedItem == m.id && setBorderColor == true}" class="quantityInput" [(ngModel)]="m.quantity" min="0" onkeyup="if(this.value<0){this.value= this.value * -1}" name="{{m.quantity}}" style=" text-align: center;" inputmode="numeric"></ion-input>
             
              <ion-button shape="round" style="color: #0070c0;" (click)="incrementQty(i)">
                <ion-icon size="large" name="bag-add" id="toolbarCartIcon"></ion-icon>
              </ion-button>
              </ion-buttons><br>
              <ion-buttons>
              <ion-button class="addToCart" style="background-color: #08c10f; color: white; text-transform: none;" (click)="AddToCart(m.id)" >
                <ion-icon shape="round" size="large" class="cartIcon" name="cart-outline"></ion-icon>
                Add To Cart
              </ion-button>
            
            </ion-buttons>
          </ion-card-content>
        </ion-card>
       </div>
        
      </ion-col>
    </ion-row>
    </div>
</ion-content>