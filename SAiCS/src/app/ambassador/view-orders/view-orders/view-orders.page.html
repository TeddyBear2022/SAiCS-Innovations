<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button auto-hide="false">
        
      </ion-menu-button>
    </ion-buttons>    
    <ion-buttons slot="secondary" routerLink="/view-ambassador-cart">
      <ion-button shape="round" >
        <ion-icon size="large" name="cart" style="color: #08c10f;"></ion-icon>
        <div class="cart-length" *ngIf="TotalItems > 0" color="danger">{{TotalItems}}
        </div>
      </ion-button>
    </ion-buttons>
    <ion-label slot="secondary" style="color: white;">{{username}}</ion-label>

    <ion-buttons slot="end">
      <ion-button (click)="presentPopover($event)" shape="round">
        <ion-icon size="large" name="person-circle" id="person-circle" style="color: white;"></ion-icon>
      </ion-button>
    </ion-buttons>    
  </ion-toolbar>
</ion-header>

<ion-content>
  
  <br>
  <h1>Current Orders</h1>
  <hr style="border: none;border-top: 2px double #333; color: #333; overflow: visible; height: 5px; width: 11%; float: left; margin-left: 7%;"><br><br><br>

  <table>
    <thead>
    <th>Order No</th>
    <th>Date</th>
    <th>Full Name</th>
    <th>Number Of Items</th>
    <th>Total Amount</th>
    <th>Commission</th>
    <th></th>
    <th></th>
    </thead>
    <tbody>
    <ng-container *ngFor="let o of orders" id="o.id">
      <tr>
        <td>{{o.id}}</td>
        <td>{{o.date | date: 'dd/MM/yyyy'}}</td>
        <td>{{o.customer}}</td>
        <td>{{o.quantity}}</td>
        <td>{{o.amount | currency: 'ZAR':'symbol-narrow'}}</td>
        <td>{{GetCommission(o.id) | currency: 'ZAR':'symbol-narrow'}}</td>
        <td> <ion-button (click)="ViewOrderDetail(o.id)" fill="clear" id="OrderDetsBtn">View Details</ion-button></td>
        <td><ion-button (click)="setOpen(o.id)" fill="clear" id="UpdateDetsBtn">Update Order Status</ion-button></td> 
        </tr>
    </ng-container>
    </tbody>
    </table>

    <!-- <ion-modal [isOpen]="isModalOpen" id="UpdateSatsModal">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-title>Update Order Status</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="setOpen(false, 0)">Close</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content class="ion-padding">
          <ion-grid>
            <form [formGroup]="update" #localForm = 'ngForm' class="ion-padding" (ngSubmit)="submitForm()">
              <ion-list>
              <ion-item lines="none">
                <ion-label>Order Status:</ion-label>
                <select placeholder="Pick" slot="end" formControlName="status">
                  <option value="" disabled selected>Select order status</option>
                  <option *ngFor="let o of orderStats" value="{{o.orderStatusId}}">{{o.orderStatusName}}</option>
                </select><br> 
                <!-- <span *ngIf="localForm.submitted && merch.controls['merchCatId'].invalid">Required</span> -->
              <!-- </ion-item>
              <ion-item lines="none">
                <ion-checkbox color="dark" [(ngModel)]="ionCheck.isChecked" [ngModelOptions]="{standalone: true}" [disabled]="true"></ion-checkbox>
                <ion-label style="margin-left:10px !important; opacity : 1;">Delivery</ion-label>
              </ion-item>
              <ion-item lines="none" *ngIf="ionCheck.isChecked == true">
                <ion-label>Tracking Number:</ion-label>
                <ion-input slot="end" type="text" formControlName="tNumber"></ion-input><br>  -->
                <!-- <span *ngIf="localForm.submitted && merch.controls['merchCatId'].invalid">Required</span> -->
              <!-- </ion-item>
              <ion-item lines="none">
                <ion-button type="submit" slot="end" (click)="setOpen(true, 0)"  id="UpdateStatusBtn">Update</ion-button>
              </ion-item>
            </ion-list>
            </form>
          </ion-grid>
        </ion-content>
      </ng-template>
    </ion-modal>  -->
</ion-content>
