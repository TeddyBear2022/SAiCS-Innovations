<ion-header>
  <ion-toolbar>
    <ion-title>
      <ion-item ><h2 style="margin-left: 10pt;"><b> Update Quiz  </b> </h2> <ion-icon  slot="end" (click)="dismissModal()" name="close-outline"></ion-icon></ion-item>
    </ion-title>
    <!-- <ion-icon slot="end" name="close" (click)="dismissModal()" (ngSubmit)="CreateQuiz()"></ion-icon> -->
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
  <form [formGroup]="UpdateQuiz" #UpdatelocalForm = 'ngForm' >   
    <br>
    <ion-row>
      <!-- <form [formGroup]="UpdateQuiz" #updateQuizlocalForm = 'ngForm' > -->
      <!-- <div> -->
        <ion-col></ion-col>
      <ion-col>
        <div>
        <ion-label>Quiz Name:</ion-label>
         <ion-input formControlName="updatequizname" type="text" placeholder="Enter quiz name"></ion-input>
        <span *ngIf="UpdatelocalForm.submitted &&  UpdateQuiz.controls['updatequizname'].invalid">*Required</span>
      </div>
      </ion-col>
      <ion-col></ion-col>
    <!-- </div> -->
  <!-- </form> -->
    </ion-row>

    
      <form [formGroup]="UpdateQuestionBankForm" #updatelocalForm = 'ngForm' >
      <ion-row>
      <ion-col></ion-col>
      <select id="UorD" formControlName="updateordelete" placeholder="Please select to update or delete a question" (change)="UpdateDeleteOption()">
        <option value= null disabled >Select A Option</option>
        <option value="1">Update Existing Questions</option>
        <option value="2">Adding More Questions</option>
      </select>
      <ion-col></ion-col>
    </ion-row>
      
      
<br>
            <!-- Updating questions -->
            <ion-row id="Questions" *ngIf="this.UpdateQuestionBankForm.get(['updateordelete']).value== 1">
              <!-- <div> -->
                <ion-col></ion-col>
              <ion-col>
                <select id="QuestionChosen" formControlName="questionChosen"  (change)="QuestionChosen()">
                  <option value= null disabled >Select A Question</option>
                  <option  *ngFor="let question of UpdateQuestionBankInfo;let i = index" value="{{i}}">{{question.questions}}</option>
                </select>
                <div *ngIf="questionSelected">
      <br>
              <ion-label>Question:</ion-label>
              <ion-input formControlName="updatequizquestion" type="text" placeholder="Enter a question"></ion-input> 
              <span *ngIf="updatelocalForm.submitted && UpdateQuestionBankForm.controls['updatequizquestion'].invalid">*Required</span>
      <br>
              <ion-label>Answer:</ion-label>
               <ion-input formControlName="updatequizanswer"  type="text" placeholder="Enter the answer"></ion-input>
               <span *ngIf="updatelocalForm.submitted  && UpdateQuestionBankForm.controls['updatequizanswer'].invalid">*Required</span>
      <br>
               <ion-label>Other options:</ion-label>
               <ion-input formControlName="updateoption1"  type="text" placeholder="Enter the answer"></ion-input>
               <span *ngIf="updatelocalForm.submitted && UpdateQuestionBankForm.controls['updateoption1'].invalid">*Required</span>
               <br>
               <ion-input formControlName="updateoption2"  type="text" placeholder="Enter the answer"></ion-input>
               <span *ngIf="updatelocalForm.submitted && UpdateQuestionBankForm.controls['updateoption2'].invalid">*Required</span>
               <br>
               <ion-input formControlName="updateoption3"  type="text" placeholder="Enter the answer"></ion-input>
               <span *ngIf="updatelocalForm.submitted && UpdateQuestionBankForm.controls['updateoption3'].invalid">*Required</span>
               <br>
               <ion-button  type="submit" (click)="UpdateQuestionBank()">Update</ion-button>
               <ion-button color="danger" type="submit" (click)="DeleteCourseQuestion()">Delete</ion-button>
              </div>
              </ion-col>
              <ion-col></ion-col>
                          <!-- </div> -->
              </ion-row>
            </form>
               <br> <br>
      <form [formGroup]="newQuestionBankForm" #localForm = 'ngForm' >
      <!-- Adding more question -->
      <ion-row id="Questions" *ngIf="this.UpdateQuestionBankForm.get(['updateordelete']).value== 2">
        <!-- <div> -->
          <ion-col></ion-col>
        <ion-col >
<br>
        <ion-label>Question:</ion-label>
        <ion-input formControlName="newquizquestion" type="text" placeholder="Enter a question"></ion-input> 
        <span *ngIf="localForm.submitted  && newQuestionBankForm.controls['newquizquestion'].invalid">*Required</span>
<br>
        <ion-label>Answer:</ion-label>
         <ion-input formControlName="newquizanswer" type="text" placeholder="Enter the answer"></ion-input>
         <span *ngIf="localForm.submitted  && newQuestionBankForm.controls['newquizanswer'].invalid">*Required</span>
<br>
         <ion-label>Other options:</ion-label>
         <ion-input formControlName="newoption1" type="text" placeholder="Enter the answer"></ion-input>
         <span *ngIf="localForm.submitted && newQuestionBankForm.controls['newoption1'].invalid">*Required</span>
         <br>
         <ion-input formControlName="newoption2" type="text" placeholder="Enter the answer"></ion-input>
         <span *ngIf="localForm.submitted  && newQuestionBankForm.controls['newoption2'].invalid">*Required</span>
         <br>
         <ion-input formControlName="newoption3" type="text" placeholder="Enter the answer"></ion-input>
         <span *ngIf="localForm.submitted  && newQuestionBankForm.controls['newoption3'].invalid">*Required</span>
         <br>
         <ion-button type="submit" (click)="AddToQuestionBank()">Add</ion-button>
        </ion-col>
        <ion-col></ion-col>
      <!-- </div> -->
        </ion-row>
         <br> <br>
         <ion-row>
        <br>
      </ion-row>
    </form>
    <br><br>
    <ion-row>
      <ion-col></ion-col>
      <ion-col></ion-col>
        <ion-button type="submit" (click)="Update()" id="ModalBlueButtons">
          Save changes
        </ion-button>
        <ion-button type="submit" color="danger" (click)="dismissModal()">
          Close
        </ion-button>
      </ion-row>
  </form> 
</ion-grid>  
</ion-content>