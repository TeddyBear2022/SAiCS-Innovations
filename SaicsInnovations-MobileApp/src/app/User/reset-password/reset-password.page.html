<ion-content>
  <div id="container">
    <ion-grid>
      <!-- Contents of the screen  -->
      <ion-row>
         <!-- SAiCS logo  -->
          <ion-col></ion-col>
          <img src="./assets/SAiCS Logo.png" alt="SAiCS logo">
          <ion-col></ion-col>
        </ion-row>

        <ion-row>
          <ion-col></ion-col>
          <ion-label class="Heading"><h1 style="font-size: 21pt;"> <b>Reset Password </b></h1></ion-label>
          <ion-col></ion-col>
        </ion-row>
        <ion-row *ngIf="EmailSent">
        <!--Reset password email -->
          <ion-col></ion-col>
            <form [formGroup]="EmailorUsernameForm" #EmailForm = 'ngForm' (ngSubmit)="EmailResetPassword()">           
           
            <br><br>
            <ion-input formControlName="emailorusername" placeholder="Enter username"> </ion-input>
            <span *ngIf="EmailForm.submitted && EmailorUsernameForm.controls.emailorusername.invalid">Please enter a Email or Username</span>
            <br> <br>
            <ion-button type="submit">Submit</ion-button>
          </form>
          <ion-col></ion-col>
        </ion-row>

        <ion-row *ngIf="OTPSent">
        <!--Otp pin -->
        <ion-col></ion-col>
          <form [formGroup]="OTPForm" #OtpForm = 'ngForm' (ngSubmit)="ValidateOTP()">
          <br><br>
          <ion-input formControlName="otp" placeholder="Please OTP PIN"> </ion-input>
          <span *ngIf="OtpForm.submitted && OTPForm.controls.otp.invalid ">Please enter a OTP </span>
          <br><br>
          <label (click)="ResendOTP()" style="color: #0000EE;"><u>Resend OTP message?</u></label> <br><br>
          <ion-button type="submit">Reset</ion-button>
        </form>
        <ion-col></ion-col>
      </ion-row>

      <ion-row *ngIf="OTPValidated">
        <!-- Reset password -->
        <ion-col></ion-col>
          <form [formGroup]="PassWordForm" #ResetPasswordForm = 'ngForm' (ngSubmit)="ResetPassword()">
          <br><br>
          <ion-input type="password" formControlName="password" placeholder="New Password"> </ion-input>
          <span *ngIf="ResetPasswordForm.submitted && PassWordForm.controls.password.invalid">Please enter a valid password of atleast 14 characters</span>
          <br>
          <ion-input type="password" formControlName="confirmPassword" placeholder="Confirm New Password"> </ion-input>
          <span *ngIf="ResetPasswordForm.submitted && PassWordForm.controls.confirmPassword.invalid">Please confirm your password of atleast 14 characters</span>  
          <br> <br><br>
          <span *ngIf="ResetPasswordForm.submitted && this.PassWordForm.get(['password']).value != this.PassWordForm.get(['confirmPassword']).value">Passwords Dont Match</span><br>
          <ion-button type="submit">Reset</ion-button>
        </form>
        <ion-col></ion-col>
      </ion-row>
    </ion-grid>
    </div>

</ion-content>
